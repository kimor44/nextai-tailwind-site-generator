<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      type="image/png"
      href="/logo_rocket_tailwind_generator-transparent.webp"
    />
    <link rel="stylesheet" href="./src/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rocket Tailwind Generator</title>
  </head>
  <body class="bg-slate-50">
    <div id="app" class="flex flex-col justify-start">
      <div class="bg-white shadow-md flex justify-center h-screen-1/10">
        <header
          id="header"
          class="p-4 flex justify-between items-center container relative"
        >
          <img
            src="/rocket_tailwind_generator-transparent.webp"
            alt="Placeholder Image"
            class="hidden sm:flex h-screen-1/10"
          />
          <img
            src="/logo_rocket_tailwind_generator-transparent.webp"
            alt="Placeholder Image"
            class="flex sm:hidden h-screen-1/10"
          />
          <nav id="actions-box" class="hidden md:flex actions gap-4">
            <button
              id="reveal-code"
              class="bg-gray-800 disabled:bg-gray-600 text-white disabled:text-slate-400 disabled:cursor-not-allowed font-bold py-2 px-4 rounded"
              onclick="document.getElementById('reveal-code-dialog').showModal()"
              disabled
            >
              Reveal code
            </button>
          </nav>
          <button
            id="kebab-button"
            class="md:hidden flex items-center px-3 py-2 border rounded text-gray-800 border-gray-800 hover:bg-gray-800 hover:text-white hover:border-white"
          >
            <svg
              class="fill-current h-3 w-3"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <title>Menu</title>
              <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" />
            </svg>
          </button>
        </header>
      </div>
      <div class="h-screen-9/10">
        <iframe
          id="iframe-generated"
          class="container mx-auto w-full md:w-3/4 h-full"
          srcdoc="<!DOCTYPE html>
          <html lang='en'>
            <head>
              <meta charset='UTF-8' />
              <meta name='viewport' content='width=device-width, initial-scale=1.0' />
              <link
                rel='stylesheet'
                href='https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css'
              />
              <title>Generated site</title>
            </head>
            <body>
              <div class='bg-slate-50 h-screen flex justify-center items-center container'>
                <p class='text-3xl md:text-6xl lg:text-8xl px-2 text-justify italic text-gray-400 relative -top-14'>Ask me for an element of a web page, I'll build it with TailwindCSS and show it to you</p>
              </div>
            </body>
          </html>"
        ></iframe>
      </div>
      <div class="container-form fixed inset-x-0 bottom-4 flex justify-center">
        <fieldset
          id="generator-wrapper"
          class="bg-slate-300 rounded-xl p-2 disabled:bg-slate-400 disabled:text-white w-full sm:w-auto"
        >
          <ul id="openai-chat" class="max-h-[150px] overflow-scroll"></ul>
          <form
            id="generator"
            class="flex flex-col sm:flex-row justify-between place-items-center gap-2 sm:gap-7 w-full sm:w-auto"
            action="#"
          >
            <textarea
              name="generator__textarea"
              id="generator__textarea"
              class="border-2 border-gray-300 p-2 rounded-xl resize-none text-slate-800 disabled:text-slate-400 text-xl shadow-xl hover:border-gray-400 transition-all disabled:cursor-not-allowed w-full sm:h-full"
              placeholder="A green button in a dark navbar"
              cols="30"
              required
            ></textarea>

            <button
              class="generator__submit px-8 py-4 bg-gray-800 disabled:bg-gray-600 text-white disabled:text-slate-400 rounded-xl text-xl font-bold shadow-xl hover:bg-gray-950 transition-all w-full sm:w-auto sm:h-full"
              type="submit"
            >
              Generate
            </button>
          </form>
        </fieldset>
      </div>
    </div>
    <dialog
      class="dialog backdrop:bg-black/50 rounded-lg shadow-lg"
      id="reveal-code-dialog"
    >
      <div
        class="dialog-content max-w-full min-w-[800px] min-h-32 flex flex-col"
      >
        <h2 class="flex justify-between text-xl p-5">
          Here the HTML code generated !
          <button
            id="close-reveal-code-dialog"
            class="text-red-600 font-bold text-sm"
            onclick="document.getElementById('reveal-code-dialog').close()"
          >
            X
          </button>
        </h2>
        <div class="code-box-dialog container mx-auto w-full h-fit"></div>
      </div>
    </dialog>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
